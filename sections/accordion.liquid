<link rel="preload" href="{{ 'section-accordion.min.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
<noscript>{{ 'section-accordion.min.css' | asset_url | stylesheet_tag }}</noscript>

<section
  class="homepage-sections-wrapper accordion--faq-wrapper accordion-faq--{{ section.id }} homepage-sections-wrapper--{{ section.settings.colors }}"
  data-wetheme-section-type="accordion--faq"
  data-wetheme-section-id="{{ section.id }}"
>
    <div class="accordion-container wrapper-padded">
      {% unless section.settings.title == blank %}
        <div class="title-bar custom-font">
          <h2 class="homepage-sections--title">{{ section.settings.title }}</h2>
        </div>
      {% endunless %}
      
      {% for block in section.blocks %}
        {% unless block.settings.text == blank and block.settings.question == blank %}
          <div class="accordion-content" {{ block.shopify_attributes }}>
            {% render 'collapsible-tab', heading: block.settings.question, content: block.settings.text, open_close_icon: section.settings.faq_icon, open_by_default: false %}
          </div>
        {% endunless %}
      {% endfor %}
    </div>

</section>

{% schema %}
  {
    "name": {
        "en": "Accordion/FAQ"
    },
    "class": "main-accordion--wrapper",
    "settings": [
        {
          "type": "select",
          "id": "colors",
          "label": {
              "en": "Color scheme",
              "de": "Farbschema",
              "es": "Esquema de colores",
              "fr": "Palette de couleurs",
              "pt-PT": "Esquema de cores"
          },
          "default": "white",
          "options": [
              {
                  "value": "white",
                  "label": {
                      "en": "Minimal",
                      "fr": "Minimal",
                      "de": "Minimal",
                      "es": "Mínimo",
                      "pt-PT": "Mínimo"
                  }
              },
              {
                  "value": "light",
                  "label": {
                      "en": "Light",
                      "de": "Licht",
                      "es": "Luz",
                      "fr": "Clair",
                      "pt-PT": "Claro"
                  }
              },
              {
                  "value": "accent",
                  "label": {
                      "en": "Feature",
                      "de": "Eigenschaft",
                      "es": "Destacado",
                      "fr": "Caractéristique",
                      "pt-PT": "Funcionalidade"
                  }
              },
              {
                  "value": "dark",
                  "label": {
                      "en": "Dark",
                      "de": "Dunkel",
                      "es": "Oscuro",
                      "fr": "Foncé",
                      "pt-PT": "Escuro"
                  }
              }
          ]
        },
        {
          "type": "text",
          "id": "title",
          "label": {
              "en": "Heading",
              "de": "Überschrift",
              "es": "Encabezado",
              "fr": "Rubrique",
              "pt-PT": "Título"
          },
          "default": {
              "en": "Frequently asked questions"
          }
        },
        {
          "type": "radio",
          "id": "faq_icon",
          "label": {
              "en": "Icon style"
          },
          "options": [
              {
                  "value": "plus_minus",
                  "label": {
                      "en": "Plus/minus"
                  }
              },
              {
                  "value": "caret",
                  "label": {
                      "en": "Caret"
                  }
              }
          ],
          "default": "plus_minus"
        }
    ],
    "blocks": [
      {
        "type": "tab_content",
        "name": {
            "en": "Tab content"
        },
        "settings": [
          {
            "type": "text",
            "id": "question",
            "label": {
                "en": "Heading",
                "de": "Überschrift",
                "es": "Encabezado",
                "fr": "Rubrique",
                "pt-PT": "Título"
            },
            "default": {
                "en": "Place your question or heading here"
            }
          },
          {
            "type": "richtext",
            "id": "text",
            "label": {
                "en": "Text",
                "de": "Text",
                "es": "Texto",
                "fr": "Texte",
                "pt-PT": "Texto"
            },
            "default": {
                "en": "<p>Here you can place an explanation or answer to the question.</p>"
            }
          }
        ]
      }
    ],
    "presets": [
        {
            "name": {
                "en": "Accordion/FAQ"
            },
            "category": {
                "en": "Store information"
            },
            "blocks": [
                {
                  "type": "tab_content"
                },
                {
                  "type": "tab_content"
                },
                {
                  "type": "tab_content"
                }
            ]
        }
    ],
    "disabled_on": {
      "groups": ["header"]
    }
  }
{% endschema %}